<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" ng-app="auctionApp"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="icon" href="resources/img/report.ico">

    <title>Auction reporter</title>
    <link rel="stylesheet" href="resources/css/lib/bootstrap.css">
    <link rel="stylesheet" href="resources/css/lib/datetimepicker.css">
    <link  rel="stylesheet" href="resources/css/report.css">
    
    <script type="text/javascript" src="resources/js/lib/angular.js"></script>
    <script type="text/javascript" src="resources/js/lib/angular-resource.js"></script>
    <script type="text/javascript" src="resources/js/lib/moment.js"></script>
    <script type="text/javascript" src="resources/js/lib/datetimepicker.js"></script>
    <script type="text/javascript" src="resources/js/app.js"></script>
    <script type="text/javascript" src="resources/js/controllers.js"></script>
    <script type="text/javascript" src="resources/js/services.js"></script>
    <script type="text/javascript" src="resources/js/date_utils.js"></script>
</head>
<body ng-controller="ReportCtrl">
<div class="container">

     <div class="header clearfix">
        <h3 class="text-muted">Auction reporter</h3>
     </div>

    <div class="row">
        <div class="col-lg-12">
            <form class="form-horizontal" name="reportForm" reportForm>
                <div class="form-group" ng-class="{ 'has-error' : reportForm.productId.$invalid && !reportForm.$pristine }">
                    <label for="productId" class="col-xs-2 control-label">Product ID</label>
                    <div class="col-xs-3">
                        <input ng-model="product" ng-change="updateSum(embeddedDate)" type="text" class="form-control" id="productId" name="productId" placeholder="Product ID" required>
                        <p ng-show="reportForm.productId.$invalid && !reportForm.$pristine" class="help-block">Product id is required.</p>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-xs-2">
                        <div class="radio">
                            <label>
                                <input type="radio" ng-model="granularity" ng-change='updateSum(embeddedDate)' name="period" value="day">
                                Day
                            </label>
                        </div>
                        <div class="radio">
                            <label>
                                <input type="radio" ng-model="granularity" ng-change='updateSum(embeddedDate)' name="period" value="week">
                                Week
                            </label>
                        </div>
                        <div class="radio">
                            <label>
                                <input type="radio" ng-model="granularity" ng-change='updateSum(embeddedDate)' name="period" value="month">
                                Month
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-10">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-md-8">
                                     
                                        <datetimepicker ng-model="embeddedDate" data-on-set-time="updateSum(newDate)"
                                            data-datetimepicker-config="{ minView:'day' }" ></datetimepicker>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6">
            <h4>Aggregated price:</h4>
            <p>{{sum}}</p>
        </div>
    </div>
</div>
</body>
</html>
